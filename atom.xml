<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>glassy&#39;s Blog</title>
  <icon>https://www.gravatar.com/avatar/0556092907e070769db5b0d7e1935526</icon>
  <subtitle>Life is like a Markov chain, your future only depends on what you are doing now, and independent of your past.</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://glassywu.github.io/"/>
  <updated>2018-12-23T10:32:17.421Z</updated>
  <id>https://glassywu.github.io/</id>
  
  <author>
    <name>glassy</name>
    <email>glassywu@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>非Root用户无法显示jps结果</title>
    <link href="https://glassywu.github.io/2018/12/10/%E9%9D%9ERoot%E7%94%A8%E6%88%B7%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BAjps%E7%BB%93%E6%9E%9C/"/>
    <id>https://glassywu.github.io/2018/12/10/非Root用户无法显示jps结果/</id>
    <published>2018-12-10T11:45:53.000Z</published>
    <updated>2018-12-23T10:32:17.421Z</updated>
    
    <content type="html"><![CDATA[<h4 id="一、问题描述"><a href="#一、问题描述" class="headerlink" title="一、问题描述"></a>一、问题描述</h4><p>非root用户执行jps命令时不显示结果，如图：<br><img src="/2018/12/10/非Root用户无法显示jps结果/1.jpg" title="非Root用户无法显示jps结果"></p><h4 id="二、原因分析"><a href="#二、原因分析" class="headerlink" title="二、原因分析"></a>二、原因分析</h4><p>jps需要在tmp下创建一个hsperfdata_username的目录，用来存放进程的ip，所以检查一下/tmp/hsperfdata_username是否存在，如果不存在则自己创建一个，然后再检查权限。<br><img src="/2018/12/10/非Root用户无法显示jps结果/2.jpg" title="非Root用户无法显示jps结果"></p><p>可以看出无法显示的原因是权限。</p><h4 id="三、解决方案"><a href="#三、解决方案" class="headerlink" title="三、解决方案"></a>三、解决方案</h4><p>修改文件权限：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown -R hadoop<span class="selector-class">.hadoop</span> /tmp/hsperfdata_hadoop</span><br></pre></td></tr></table></figure></p><img src="/2018/12/10/非Root用户无法显示jps结果/3.jpg" title="非Root用户无法显示jps结果"><h4 id="四、效果"><a href="#四、效果" class="headerlink" title="四、效果"></a>四、效果</h4><img src="/2018/12/10/非Root用户无法显示jps结果/4.jpg" title="非Root用户无法显示jps结果">]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;一、问题描述&quot;&gt;&lt;a href=&quot;#一、问题描述&quot; class=&quot;headerlink&quot; title=&quot;一、问题描述&quot;&gt;&lt;/a&gt;一、问题描述&lt;/h4&gt;&lt;p&gt;非root用户执行jps命令时不显示结果，如图：&lt;br&gt;&lt;img src=&quot;/2018/12/10/非Roo
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://glassywu.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>启动集群后Slave无法启动DataNode进程</title>
    <link href="https://glassywu.github.io/2018/10/09/%E5%90%AF%E5%8A%A8%E9%9B%86%E7%BE%A4%E5%90%8ESlave%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8DataNode%E8%BF%9B%E7%A8%8B/"/>
    <id>https://glassywu.github.io/2018/10/09/启动集群后Slave无法启动DataNode进程/</id>
    <published>2018-10-09T13:19:58.000Z</published>
    <updated>2018-10-09T13:52:21.711Z</updated>
    
    <content type="html"><![CDATA[<h4 id="一、问题描述"><a href="#一、问题描述" class="headerlink" title="一、问题描述"></a>一、问题描述</h4><p>执行start-all.sh后，slave进程中没有DataNode</p><h4 id="二、问题查看"><a href="#二、问题查看" class="headerlink" title="二、问题查看"></a>二、问题查看</h4><p>去Slave的/hadoop/logs文件查看日志，信息如下：<br><img src="/2018/10/09/启动集群后Slave无法启动DataNode进程/报错信息.jpg" title="启动集群后Slave无法启动DataNode进程"></p><p>表明：造成无法启动DataNode进程的原因是namenode的clusterID和datanode的clusterID不匹配，一般造成这种问题的原因是多次执行了namenode格式化命令：<br><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hdfs namenode -<span class="built_in">format</span></span><br></pre></td></tr></table></figure></p><p>ok,直接分别去查看响应的文件是否真的如此：</p><h6 id="1-查看slave："><a href="#1-查看slave：" class="headerlink" title="1.查看slave："></a>1.查看slave：</h6><img src="/2018/10/09/启动集群后Slave无法启动DataNode进程/slave截图.jpg" title="启动集群后Slave无法启动DataNode进程"><img src="/2018/10/09/启动集群后Slave无法启动DataNode进程/slave-version.jpg" title="启动集群后Slave无法启动DataNode进程"><h6 id="2-查看master"><a href="#2-查看master" class="headerlink" title="2.查看master:"></a>2.查看master:</h6><img src="/2018/10/09/启动集群后Slave无法启动DataNode进程/master截图.jpg" title="启动集群后Slave无法启动DataNode进程"><img src="/2018/10/09/启动集群后Slave无法启动DataNode进程/master-version.jpg" title="启动集群后Slave无法启动DataNode进程"><p><strong>ps:对比红色线框内容即可，图中为已修改完成的结果，二者一致即可！</strong></p><h4 id="三、结果"><a href="#三、结果" class="headerlink" title="三、结果"></a>三、结果</h4><p>重新执行start-all.sh命令，然后在slave执行jps，结果如下：<br><img src="/2018/10/09/启动集群后Slave无法启动DataNode进程/结果.jpg" title="启动集群后Slave无法启动DataNode进程"></p><p>恢复正常:)</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;一、问题描述&quot;&gt;&lt;a href=&quot;#一、问题描述&quot; class=&quot;headerlink&quot; title=&quot;一、问题描述&quot;&gt;&lt;/a&gt;一、问题描述&lt;/h4&gt;&lt;p&gt;执行start-all.sh后，slave进程中没有DataNode&lt;/p&gt;
&lt;h4 id=&quot;二、问题查看&quot;
      
    
    </summary>
    
    
      <category term="hadoop" scheme="https://glassywu.github.io/tags/hadoop/"/>
    
  </entry>
  
  <entry>
    <title>重装系统后恢复hexo</title>
    <link href="https://glassywu.github.io/2018/08/16/%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F%E5%90%8E%E6%81%A2%E5%A4%8Dhexo/"/>
    <id>https://glassywu.github.io/2018/08/16/重装系统后恢复hexo/</id>
    <published>2018-08-16T02:38:15.000Z</published>
    <updated>2018-08-16T06:07:48.005Z</updated>
    
    <content type="html"><![CDATA[<h3 id="适用情况："><a href="#适用情况：" class="headerlink" title="适用情况："></a>适用情况：</h3><ul><li>重装了系统/换台电脑</li><li>保存了原来部署的hexo文件  </li></ul><p>原来的部署文件如下图：<br><img src="/2018/08/16/重装系统后恢复hexo/hexo1.jpg" title="重装系统后恢复hexo"></p><h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><ol><li>安装git<ul><li><a href="https://git-scm.com/" target="_blank" rel="noopener">Git下载</a></li></ul></li><li><p>配置SSH key</p><ul><li>在”C:\Users\username”下运行git bash</li><li><p>运行如下命令：</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C xxxx(你的email) <span class="meta"># 一直enter</span></span><br></pre></td></tr></table></figure></li><li><p>结束后会看到目录生成了.ssh文件</p></li><li>在github添加新的SSH key</li><li>Settings -&gt; SSH and GPG keys -&gt; new SSH key</li><li>在Key文本框里粘贴公钥id_rsa.pub文件的内容(注意后缀！这是公钥)</li><li>最后点击Add SSH Key</li></ul></li><li><p>安装Nodejs</p><ul><li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Nodejs下载</a></li></ul></li><li>安装hexo<ul><li>打开git bash,运行如下命令:<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-<span class="keyword">cli</span> -g</span><br></pre></td></tr></table></figure></li></ul></li></ol><h3 id="具体步骤"><a href="#具体步骤" class="headerlink" title="具体步骤"></a>具体步骤</h3><ol><li>复制以下文件到新的目录</li></ol><img src="/2018/08/16/重装系统后恢复hexo/hexo2.jpg" title="重装系统后恢复hexo"> <p>(ps：其中蓝色框文件为.gitignore文件,如果没看到可以查看隐藏文件)</p><ol start="2"><li>在新拷贝的文件夹中打开git bash,运行以下命令： <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> <span class="comment"># 安装模块</span></span><br></pre></td></tr></table></figure></li></ol><p>(ps:不要用hexo init 命令，这个命令会重置站点的配置文件_config.yml的内容:p)</p><ol start="3"><li><p>安装其他插件：</p><ul><li><p>部署到git的插件：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-deployer-git <span class="comment">--save</span></span><br></pre></td></tr></table></figure></li><li><p>others…</p></li></ul></li><li><p>生成和部署：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo g</span></span><br><span class="line"><span class="attribute">hexo d</span></span><br></pre></td></tr></table></figure></li><li><p>预览:</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo s</span></span><br></pre></td></tr></table></figure><p>在<a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a>查看效果</p><p>hexo 部署文件最后如图所示：</p><img src="/2018/08/16/重装系统后恢复hexo/hexo3.jpg" title="重装系统后恢复hexo">  <center>—end—</center></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;适用情况：&quot;&gt;&lt;a href=&quot;#适用情况：&quot; class=&quot;headerlink&quot; title=&quot;适用情况：&quot;&gt;&lt;/a&gt;适用情况：&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;重装了系统/换台电脑&lt;/li&gt;
&lt;li&gt;保存了原来部署的hexo文件  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;原
      
    
    </summary>
    
    
      <category term="system" scheme="https://glassywu.github.io/tags/system/"/>
    
  </entry>
  
  <entry>
    <title>hello world</title>
    <link href="https://glassywu.github.io/2018/04/05/hello-world/"/>
    <id>https://glassywu.github.io/2018/04/05/hello-world/</id>
    <published>2018-04-05T12:32:31.000Z</published>
    <updated>2018-12-23T14:28:37.037Z</updated>
    
    <content type="html"><![CDATA[<p>之前的blog因为忘了备份全部丢失 = =</p><p>其实也没什么可供输出的，丢失了就丢失了，现在打算重新维护</p><p>另外简书也懒得搬运了，毕竟，没什么可供输出哇 :)</p><p>总之，欢迎来到glassy的blog</p><p>link start !</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;之前的blog因为忘了备份全部丢失 = =&lt;/p&gt;
&lt;p&gt;其实也没什么可供输出的，丢失了就丢失了，现在打算重新维护&lt;/p&gt;
&lt;p&gt;另外简书也懒得搬运了，毕竟，没什么可供输出哇 :)&lt;/p&gt;
&lt;p&gt;总之，欢迎来到glassy的blog&lt;/p&gt;
&lt;p&gt;link start !&lt;
      
    
    </summary>
    
    
  </entry>
  
</feed>
